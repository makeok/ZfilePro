!function(){function r(r){return function(r){if(Array.isArray(r))return e(r)}(r)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function(r,t){if(!r)return;if("string"==typeof r)return e(r,t);var o=Object.prototype.toString.call(r).slice(8,-1);"Object"===o&&r.constructor&&(o=r.constructor.name);if("Map"===o||"Set"===o)return Array.from(r);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return e(r,t)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,o=new Array(e);t<e;t++)o[t]=r[t];return o}var t=document.createElement("style");t.innerHTML='.z-form[data-v-c597957c]>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse));--tw-divide-opacity: 1;border-color:rgb(229 231 235 / var(--tw-divide-opacity))}.z-form[data-v-c597957c]{padding:1.5rem}.z-form[data-v-c597957c] .z-form-item-input{flex-wrap:wrap}.required[data-v-22eef9f0]:before{content:"*";color:#f56c6c;left:-4px;position:relative;top:2px}.z-form-item.is-error[data-v-22eef9f0] .el-select-v2__wrapper,.z-form-item.is-error[data-v-22eef9f0] .el-select-v2__wrapper:focus,.z-form-item.is-error[data-v-22eef9f0] .el-input__inner,.z-form-item.is-error[data-v-22eef9f0] .el-input__inner:focus,.z-form-item.is-error[data-v-22eef9f0] .el-textarea__inner,.z-form-item.is-error[data-v-22eef9f0] .el-textarea__inner:focus{--tw-border-opacity: 1;border-color:rgb(239 68 68 / var(--tw-border-opacity))}.z-form-item-tips[data-v-22eef9f0] .el-link{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}\n',document.head.appendChild(t),System.register(["./index-legacy.e449b062.js","./plugin-vue_export-helper-legacy.7bb61c33.js","./index-legacy.559a5434.js"],(function(e){"use strict";var t,o,a,n,i,l,s,u,f,c,d,m,p,v,y;return{setters:[function(r){t=r.S},function(r){o=r._},function(r){a=r.r,n=r.c,i=r.a,l=r.f,s=r.y,u=r.i,f=r.o,c=r.a6,d=r.g,m=r.u,p=r.A,v=r.l,y=r.Y}],execute:function(){var b={class:"z-form"},g={class:"space-y-8 divide-y divide-gray-200"},x={class:"z-form-body"},w={class:"z-form-title text-lg leading-6 font-medium text-gray-900"},h={class:"z-form-sub-title mt-2 max-w-3xl text-sm text-gray-500"},_={class:"z-form-footer"},z={class:"pt-5"},A={class:"flex justify-end"},j=Object.assign({name:"ZForm"},{props:{model:Object,rules:Object},setup:function(e,o){var f=o.expose,c=e,d=a({}),m=a([]),p=n((function(){var r={};return m.value.forEach((function(e){var t=e.prop,o=e.required,a=e.label;if(o&&(r[t]=[{required:!0,message:"".concat(a,"不能为空")}]),void 0!==c.rules[t])return Array.isArray(c.rules[t])?void(r[t]=c.rules[t]):(console.warn("prop 为 ".concat(t," 的 FormItem 校验规则不存在或者其值不是数组")),void(r[t]=[{required:!0}]));console.debug("prop 为 ".concat(t," 的 FormItem 校验规则不存在, 跳过."))})),r})),v=n((function(){return m.value.reduce((function(r,e){var t=e.prop,o=t.split(".");if(o.length>1){for(var a=c.model;o.length>=1;){var n=o.shift();void 0!==a[n]&&(a=a[n])}r[t]=a}else r[t]=c.model[t];return r}),{})}));return f({validate:function(r){new t(p.value).validate(v.value,(function(e){var t={};e&&e.length?e.forEach((function(r){var e=r.message,o=r.field;t[o]=e})):t={},d.value=t,r(0===Object.keys(t).length)}))},formAddField:function(e){e&&(m.value=[].concat(r(m.value),[e]))},formRemoveField:function(r){r&&(m.value=m.value.filter((function(e){return e.prop!==r.prop})))},rulesArray:n((function(){return c.rules})),formError:d}),function(r,e){return i(),l("form",b,[s("div",g,[s("div",x,[s("div",null,[s("h3",w,[u(r.$slots,"form-title",{},void 0,!0)]),s("p",h,[u(r.$slots,"form-sub-title",{},void 0,!0)])]),u(r.$slots,"default",{},void 0,!0)]),s("div",_,[s("div",z,[s("div",A,[u(r.$slots,"footer",{},void 0,!0)])])])])])}}}),q=(e("a",o(j,[["__scopeId","data-v-c597957c"]])),{class:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start sm:border-t sm:border-gray-200 sm:pt-5"}),E=["for"],F={class:"mt-1 sm:mt-0 sm:col-span-2"},I={class:"empty:mt-0 mt-2 text-sm max-w-2xl text-gray-400 z-form-item-tips"},S={class:"empty:mt-0 mt-2 text-sm text-red-500"},$={__name:"ZFormItem",props:{required:Boolean,prop:String,label:String},setup:function(r){var e=y().proxy,o=r,b=n((function(){var r=x.value.rulesArray;return r?r[o.prop]:[]})),g=n((function(){if(o.required)return!0;if(b.value)for(var r=0;r<b.value.length;r++){var e=b.value[r].required;if("boolean"==typeof e)return!0;if("function"==typeof e)return e()}return!1})),x=n((function(){for(var r=e.$parent;"ZForm"!==r.$options.name;)r=r.parent;return r}));n((function(){return o.prop&&x.value.formError[o.prop]||""}));var w=function(r,e){x.value[r](e)},h=a();f((function(){o.prop&&w("formAddField",{prop:o.prop,required:o.required,label:o.label,el:h.value})})),c((function(){w("formRemoveField",{prop:o.prop})}));var _=function(r){var e=r.target.value,a={},n={};b.value&&(a[o.prop]=b.value,n[o.prop]=e),new t(a).validate(n,(function(r){r&&r.length?r.forEach((function(r){var e=r.message;r.field;x.value.formError[o.prop]=e})):x.value.formError[o.prop]=""}))};return function(e,t){return i(),l("div",{ref_key:"zFormItem",ref:h,class:d([m(x).formError[o.prop]?"is-error":"is-success","z-form-item mt-6 sm:mt-5 space-y-6 sm:space-y-5"])},[s("div",q,[r.label?(i(),l("label",{key:0,for:o.prop,class:d([m(g)?"required":"not-required","block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2"])},p(r.label),11,E)):v("",!0),s("div",F,[s("div",{class:"input max-w-2xl flex rounded-md z-form-item-input",onInput:_},[u(e.$slots,"default",{},void 0,!0)],32),s("p",I,[u(e.$slots,"tips",{},void 0,!0)]),s("p",S,p(m(x).formError[o.prop]),1)])])],2)}}};e("Z",o($,[["__scopeId","data-v-22eef9f0"]]))}}}))}();
