var Ee=Object.defineProperty;var V=Object.getOwnPropertySymbols;var le=Object.prototype.hasOwnProperty,re=Object.prototype.propertyIsEnumerable;var oe=(e,a,n)=>a in e?Ee(e,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[a]=n,J=(e,a)=>{for(var n in a||(a={}))le.call(a,n)&&oe(e,n,a[n]);if(V)for(var n of V(a))re.call(a,n)&&oe(e,n,a[n]);return e};var z=(e,a)=>{var n={};for(var s in e)le.call(e,s)&&a.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&V)for(var s of V(e))a.indexOf(s)<0&&re.call(e,s)&&(n[s]=e[s]);return n};import{a as $,f as R,y as b,bc as se,r as D,o as q,aF as W,d as F,p as X,c as C,ad as G,q as ee,W as A,ac as Pe,aa as Oe,w as ze,Z as ie,j as r,e as u,u as i,b as ue,z as x,A as de,l as Fe,g as M,bd as Be,bw as Ne,T as je,O as Ae}from"./index.a81894c3.js";import{E as He}from"./base.9447ff7a.js";/* empty css               */import{E as Ue,a as Ve,b as Ke}from"./dropdown-item.859a734d.js";import"./popper.34e4046d.js";import"./scrollbar.b58c5e8b.js";/* empty css             *//* empty css                */import{r as qe}from"./badge.f7171733.js";import{E as We}from"./link.78f066a7.js";import{_ as Ye}from"./zfile-basic.8b129fdf.js";import{a as Ze}from"./zfile-horizontal.7507aff8.js";import{_ as Je}from"./avator.46fdf30e.js";import{e as Qe,f as Xe,l as Ge}from"./admin-setting.1db20681.js";import{d as et}from"./login.ca9e5137.js";import{d as tt}from"./dayjs.min.48a99d24.js";import{E as at,o as y,m as nt,t as U,u as Q,e as ge,l as O,H as B,p as _e,b as K,a as k,y as ot,g as lt,h as rt,v as st,N as ce,_ as be,O as it,r as ut}from"./use-outside-click.86ba09c6.js";import{E as dt,e as ct}from"./request.88c6336a.js";import{c as N}from"./common.d1611fb2.js";import{E as pt}from"./index.810024c9.js";import"./dropdown.5de453d7.js";import"./castArray.7c80ce00.js";import"./refs.7263a917.js";import"./focus-trap.c21bbfc6.js";import"./directive.8a34351b.js";function mt(e,a){return $(),R("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12H12m-8.25 5.25h16.5"})])}const ft={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},vt=b("path",{fill:"currentColor",d:"M160 832h704a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64m384-253.696l236.288-236.352l45.248 45.248L508.8 704L192 387.2l45.248-45.248L480 584.704V128h64z"},null,-1),gt=[vt];function _t(e,a){return $(),R("svg",ft,[...gt])}var bt={name:"ep-download",render:_t};const ht={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},xt=b("path",{fill:"currentColor",d:"M831.872 340.864L512 652.672L192.128 340.864a30.592 30.592 0 0 0-42.752 0a29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728a30.592 30.592 0 0 0-42.752 0z"},null,-1),yt=[xt];function wt(e,a){return $(),R("svg",ht,[...yt])}var kt={name:"ep-arrow-down",render:wt};const It={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},St=b("path",{fill:"currentColor",d:"M715.648 625.152L670.4 579.904l90.496-90.56c75.008-74.944 85.12-186.368 22.656-248.896c-62.528-62.464-173.952-52.352-248.96 22.656L444.16 353.6l-45.248-45.248l90.496-90.496c100.032-99.968 251.968-110.08 339.456-22.656c87.488 87.488 77.312 239.424-22.656 339.456l-90.496 90.496zm-90.496 90.496l-90.496 90.496C434.624 906.112 282.688 916.224 195.2 828.8c-87.488-87.488-77.312-239.424 22.656-339.456l90.496-90.496l45.248 45.248l-90.496 90.56c-75.008 74.944-85.12 186.368-22.656 248.896c62.528 62.464 173.952 52.352 248.96-22.656l90.496-90.496zm0-362.048l45.248 45.248L398.848 670.4L353.6 625.152z"},null,-1),Dt=[St];function Mt(e,a){return $(),R("svg",It,[...Dt])}var $t={name:"ep-link",render:Mt};const Lt={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Ct=b("path",{fill:"currentColor",d:"M512 512a192 192 0 1 0 0-384a192 192 0 0 0 0 384m0 64a256 256 0 1 1 0-512a256 256 0 0 1 0 512m320 320v-96a96 96 0 0 0-96-96H288a96 96 0 0 0-96 96v96a32 32 0 1 1-64 0v-96a160 160 0 0 1 160-160h448a160 160 0 0 1 160 160v96a32 32 0 1 1-64 0"},null,-1),Rt=[Ct];function Tt(e,a){return $(),R("svg",Lt,[...Rt])}var Et={name:"ep-user",render:Tt};const Pt={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Ot=b("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864S0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288c52.608 79.872 211.456 288 436.8 288c225.28 0 384.128-208.064 436.8-288c-52.608-79.872-211.456-288-436.8-288m0 64a224 224 0 1 1 0 448a224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160s-71.744-160-160-160"},null,-1),zt=[Ot];function Ft(e,a){return $(),R("svg",Pt,[...zt])}var Bt={name:"ep-view",render:Ft};const Nt={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},jt=b("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32"},null,-1),At=[jt];function Ht(e,a){return $(),R("svg",Nt,[...At])}var Ut={name:"ep-folder",render:Ht};const Vt={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Kt=b("path",{fill:"currentColor",d:"M600.704 64a32 32 0 0 1 30.464 22.208l35.2 109.376c14.784 7.232 28.928 15.36 42.432 24.512l112.384-24.192a32 32 0 0 1 34.432 15.36L944.32 364.8a32 32 0 0 1-4.032 37.504l-77.12 85.12a357.12 357.12 0 0 1 0 49.024l77.12 85.248a32 32 0 0 1 4.032 37.504l-88.704 153.6a32 32 0 0 1-34.432 15.296L708.8 803.904c-13.44 9.088-27.648 17.28-42.368 24.512l-35.264 109.376A32 32 0 0 1 600.704 960H423.296a32 32 0 0 1-30.464-22.208L357.696 828.48a351.616 351.616 0 0 1-42.56-24.64l-112.32 24.256a32 32 0 0 1-34.432-15.36L79.68 659.2a32 32 0 0 1 4.032-37.504l77.12-85.248a357.12 357.12 0 0 1 0-48.896l-77.12-85.248A32 32 0 0 1 79.68 364.8l88.704-153.6a32 32 0 0 1 34.432-15.296l112.32 24.256c13.568-9.152 27.776-17.408 42.56-24.64l35.2-109.312A32 32 0 0 1 423.232 64H600.64zm-23.424 64H446.72l-36.352 113.088l-24.512 11.968a294.113 294.113 0 0 0-34.816 20.096l-22.656 15.36l-116.224-25.088l-65.28 113.152l79.68 88.192l-1.92 27.136a293.12 293.12 0 0 0 0 40.192l1.92 27.136l-79.808 88.192l65.344 113.152l116.224-25.024l22.656 15.296a294.113 294.113 0 0 0 34.816 20.096l24.512 11.968L446.72 896h130.688l36.48-113.152l24.448-11.904a288.282 288.282 0 0 0 34.752-20.096l22.592-15.296l116.288 25.024l65.28-113.152l-79.744-88.192l1.92-27.136a293.12 293.12 0 0 0 0-40.256l-1.92-27.136l79.808-88.128l-65.344-113.152l-116.288 24.96l-22.592-15.232a287.616 287.616 0 0 0-34.752-20.096l-24.448-11.904L577.344 128zM512 320a192 192 0 1 1 0 384a192 192 0 0 1 0-384m0 64a128 128 0 1 0 0 256a128 128 0 0 0 0-256"},null,-1),qt=[Kt];function Wt(e,a){return $(),R("svg",Vt,[...qt])}var Yt={name:"ep-setting",render:Wt};function Zt(e,a){let{data:n}=se(Ge),{data:s,loading:t}=se(Xe,{errorRetryCount:3});return{siteSetting:n,githubLatestInfo:s,githubLatestLoading:t,logDownload:()=>{const g=at.service({fullscreen:!0,lock:!0,text:"\u4E0B\u8F7D\u4E2D...",background:"rgba(0, 0, 0, 0.5)"});Qe().then(_=>{const{data:o,headers:h}=_,d=`ZFile \u8BCA\u65AD\u65E5\u5FD7 - ${tt().format("YYYY-MM-DD HH:mm:ss")}.zip`,v=new Blob([o],{type:h["content-type"]});let f=document.createElement("a"),m=window.URL.createObjectURL(v);f.href=m,f.download=decodeURI(d),f.style.display="none",document.body.appendChild(f),f.click(),f.parentNode.removeChild(f),window.URL.revokeObjectURL(m)}).catch(_=>{dt.error("\u4E0B\u8F7D\u65E5\u5FD7\u5931\u8D25.")}).finally(()=>{g.close()})},logout:()=>{et().then(()=>{e.push("/login")})},rebuildTitle:()=>{a.path.indexOf("/admin")!==-1&&(document.title=(a.meta.name||"ZFile")+" | \u540E\u53F0\u7BA1\u7406")}}}function Jt(e){throw new Error("Unexpected object: "+e)}var L=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(L||{});function Qt(e,a){let n=a.resolveItems();if(n.length<=0)return null;let s=a.resolveActiveIndex(),t=s!=null?s:-1,p=(()=>{switch(e.focus){case 0:return n.findIndex(l=>!a.resolveDisabled(l));case 1:{let l=n.slice().reverse().findIndex((c,g,_)=>t!==-1&&_.length-g-1>=t?!1:!a.resolveDisabled(c));return l===-1?l:n.length-1-l}case 2:return n.findIndex((l,c)=>c<=t?!1:!a.resolveDisabled(l));case 3:{let l=n.slice().reverse().findIndex(c=>!a.resolveDisabled(c));return l===-1?l:n.length-1-l}case 4:return n.findIndex(l=>a.resolveId(l)===e.id);case 5:return null;default:Jt(e)}})();return p===-1?s:p}function pe(e,a){if(e)return e;let n=a!=null?a:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function he(e,a){let n=D(pe(e.value.type,e.value.as));return q(()=>{n.value=pe(e.value.type,e.value.as)}),W(()=>{var s;n.value||y(a)&&y(a)instanceof HTMLButtonElement&&!((s=y(a))!=null&&s.hasAttribute("type"))&&(n.value="button")}),n}function Xt({container:e,accept:a,walk:n,enabled:s}){W(()=>{let t=e.value;if(!t||s!==void 0&&!s.value)return;let p=nt(e);if(!p)return;let l=Object.assign(g=>a(g),{acceptNode:a}),c=p.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,l,!1);for(;c.nextNode();)n(c.currentNode)})}function me(e){return[e.screenX,e.screenY]}function Gt(){let e=D([-1,-1]);return{wasMoved(a){let n=me(a);return e.value[0]===n[0]&&e.value[1]===n[1]?!1:(e.value=n,!0)},update(a){e.value=me(a)}}}var ea=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ea||{});let xe=Symbol("DisclosureContext");function te(e){let a=ee(xe,null);if(a===null){let n=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,te),n}return a}let ye=Symbol("DisclosurePanelContext");function ta(){return ee(ye,null)}let aa=F({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(e,{slots:a,attrs:n}){let s=D(e.defaultOpen?0:1),t=D(null),p=D(null),l={buttonId:D(`headlessui-disclosure-button-${U()}`),panelId:D(`headlessui-disclosure-panel-${U()}`),disclosureState:s,panel:t,button:p,toggleDisclosure(){s.value=Q(s.value,{[0]:1,[1]:0})},closeDisclosure(){s.value!==1&&(s.value=1)},close(c){l.closeDisclosure();let g=(()=>c?c instanceof HTMLElement?c:c.value instanceof HTMLElement?y(c):y(l.button):y(l.button))();g==null||g.focus()}};return X(xe,l),ge(C(()=>Q(s.value,{[0]:O.Open,[1]:O.Closed}))),()=>{let o=e,{defaultOpen:c}=o,g=z(o,["defaultOpen"]),_={open:s.value===0,close:l.close};return B({theirProps:g,ourProps:{},slot:_,slots:a,attrs:n,name:"Disclosure"})}}}),P=F({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(e,{attrs:a,slots:n,expose:s}){let t=te("DisclosureButton"),p=ta(),l=C(()=>p===null?!1:p.value===t.panelId.value);q(()=>{l.value||e.id!==null&&(t.buttonId.value=e.id)}),G(()=>{l.value||(t.buttonId.value=null)});let c=D(null);s({el:c,$el:c}),l.value||W(()=>{t.button.value=c.value});let g=he(C(()=>({as:e.as,type:a.type})),c);function _(){var d;e.disabled||(l.value?(t.toggleDisclosure(),(d=y(t.button))==null||d.focus()):t.toggleDisclosure())}function o(d){var v;if(!e.disabled)if(l.value)switch(d.key){case k.Space:case k.Enter:d.preventDefault(),d.stopPropagation(),t.toggleDisclosure(),(v=y(t.button))==null||v.focus();break}else switch(d.key){case k.Space:case k.Enter:d.preventDefault(),d.stopPropagation(),t.toggleDisclosure();break}}function h(d){switch(d.key){case k.Space:d.preventDefault();break}}return()=>{var d;let v={open:t.disclosureState.value===0},T=e,{id:f}=T,m=z(T,["id"]),I=l.value?{ref:c,type:g.value,onClick:_,onKeydown:o}:{id:(d=t.buttonId.value)!=null?d:f,ref:c,type:g.value,"aria-expanded":t.disclosureState.value===0,"aria-controls":t.disclosureState.value===0||y(t.panel)?t.panelId.value:void 0,disabled:e.disabled?!0:void 0,onClick:_,onKeydown:o,onKeyup:h};return B({ourProps:I,theirProps:m,slot:v,attrs:a,slots:n,name:"DisclosureButton"})}}}),na=F({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:a,slots:n,expose:s}){let t=te("DisclosurePanel");q(()=>{e.id!==null&&(t.panelId.value=e.id)}),G(()=>{t.panelId.value=null}),s({el:t.panel,$el:t.panel}),X(ye,t.panelId);let p=_e(),l=C(()=>p!==null?(p.value&O.Open)===O.Open:t.disclosureState.value===0);return()=>{var c;let g={open:t.disclosureState.value===0,close:t.close},d=e,{id:_}=d,o=z(d,["id"]),h={id:(c=t.panelId.value)!=null?c:_,ref:t.panel};return B({ourProps:h,theirProps:o,slot:g,attrs:a,slots:n,features:K.RenderStrategy|K.Static,visible:l.value,name:"DisclosurePanel"})}}}),fe=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function ve(e){var a,n;let s=(a=e.innerText)!=null?a:"",t=e.cloneNode(!0);if(!(t instanceof HTMLElement))return s;let p=!1;for(let c of t.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))c.remove(),p=!0;let l=p?(n=t.innerText)!=null?n:"":s;return fe.test(l)&&(l=l.replace(fe,"")),l}function oa(e){let a=e.getAttribute("aria-label");if(typeof a=="string")return a.trim();let n=e.getAttribute("aria-labelledby");if(n){let s=n.split(" ").map(t=>{let p=document.getElementById(t);if(p){let l=p.getAttribute("aria-label");return typeof l=="string"?l.trim():ve(p).trim()}return null}).filter(Boolean);if(s.length>0)return s.join(", ")}return ve(e).trim()}function la(e){let a=D(""),n=D("");return()=>{let s=y(e);if(!s)return"";let t=s.innerText;if(a.value===t)return n.value;let p=oa(s).trim().toLowerCase();return a.value=t,n.value=p,p}}var ra=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ra||{}),sa=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(sa||{});function ia(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let we=Symbol("MenuContext");function Y(e){let a=ee(we,null);if(a===null){let n=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Y),n}return a}let ua=F({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:a,attrs:n}){let s=D(1),t=D(null),p=D(null),l=D([]),c=D(""),g=D(null),_=D(1);function o(d=v=>v){let v=g.value!==null?l.value[g.value]:null,f=it(d(l.value.slice()),I=>y(I.dataRef.domRef)),m=v?f.indexOf(v):null;return m===-1&&(m=null),{items:f,activeItemIndex:m}}let h={menuState:s,buttonRef:t,itemsRef:p,items:l,searchQuery:c,activeItemIndex:g,activationTrigger:_,closeMenu:()=>{s.value=1,g.value=null},openMenu:()=>s.value=0,goToItem(d,v,f){let m=o(),I=Qt(d===L.Specific?{focus:L.Specific,id:v}:{focus:d},{resolveItems:()=>m.items,resolveActiveIndex:()=>m.activeItemIndex,resolveId:T=>T.id,resolveDisabled:T=>T.dataRef.disabled});c.value="",g.value=I,_.value=f!=null?f:1,l.value=m.items},search(d){let v=c.value!==""?0:1;c.value+=d.toLowerCase();let f=(g.value!==null?l.value.slice(g.value+v).concat(l.value.slice(0,g.value+v)):l.value).find(I=>I.dataRef.textValue.startsWith(c.value)&&!I.dataRef.disabled),m=f?l.value.indexOf(f):-1;m===-1||m===g.value||(g.value=m,_.value=1)},clearSearch(){c.value=""},registerItem(d,v){let f=o(m=>[...m,{id:d,dataRef:v}]);l.value=f.items,g.value=f.activeItemIndex,_.value=1},unregisterItem(d){let v=o(f=>{let m=f.findIndex(I=>I.id===d);return m!==-1&&f.splice(m,1),f});l.value=v.items,g.value=v.activeItemIndex,_.value=1}};return ot([t,p],(d,v)=>{var f;h.closeMenu(),lt(v,rt.Loose)||(d.preventDefault(),(f=y(t))==null||f.focus())},C(()=>s.value===0)),X(we,h),ge(C(()=>Q(s.value,{[0]:O.Open,[1]:O.Closed}))),()=>{let d={open:s.value===0,close:h.closeMenu};return B({ourProps:{},theirProps:e,slot:d,slots:a,attrs:n,name:"Menu"})}}}),da=F({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-menu-button-${U()}`}},setup(e,{attrs:a,slots:n,expose:s}){let t=Y("MenuButton");s({el:t.buttonRef,$el:t.buttonRef});function p(_){switch(_.key){case k.Space:case k.Enter:case k.ArrowDown:_.preventDefault(),_.stopPropagation(),t.openMenu(),A(()=>{var o;(o=y(t.itemsRef))==null||o.focus({preventScroll:!0}),t.goToItem(L.First)});break;case k.ArrowUp:_.preventDefault(),_.stopPropagation(),t.openMenu(),A(()=>{var o;(o=y(t.itemsRef))==null||o.focus({preventScroll:!0}),t.goToItem(L.Last)});break}}function l(_){switch(_.key){case k.Space:_.preventDefault();break}}function c(_){e.disabled||(t.menuState.value===0?(t.closeMenu(),A(()=>{var o;return(o=y(t.buttonRef))==null?void 0:o.focus({preventScroll:!0})})):(_.preventDefault(),t.openMenu(),ia(()=>{var o;return(o=y(t.itemsRef))==null?void 0:o.focus({preventScroll:!0})})))}let g=he(C(()=>({as:e.as,type:a.type})),t.buttonRef);return()=>{var _;let o={open:t.menuState.value===0},f=e,{id:h}=f,d=z(f,["id"]),v={ref:t.buttonRef,id:h,type:g.value,"aria-haspopup":"menu","aria-controls":(_=y(t.itemsRef))==null?void 0:_.id,"aria-expanded":t.menuState.value===0,onKeydown:p,onKeyup:l,onClick:c};return B({ourProps:v,theirProps:d,slot:o,attrs:a,slots:n,name:"MenuButton"})}}}),ca=F({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-menu-items-${U()}`}},setup(e,{attrs:a,slots:n,expose:s}){let t=Y("MenuItems"),p=D(null);s({el:t.itemsRef,$el:t.itemsRef}),Xt({container:C(()=>y(t.itemsRef)),enabled:C(()=>t.menuState.value===0),accept(o){return o.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:o.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(o){o.setAttribute("role","none")}});function l(o){var h;switch(p.value&&clearTimeout(p.value),o.key){case k.Space:if(t.searchQuery.value!=="")return o.preventDefault(),o.stopPropagation(),t.search(o.key);case k.Enter:if(o.preventDefault(),o.stopPropagation(),t.activeItemIndex.value!==null){let d=t.items.value[t.activeItemIndex.value];(h=y(d.dataRef.domRef))==null||h.click()}t.closeMenu(),be(y(t.buttonRef));break;case k.ArrowDown:return o.preventDefault(),o.stopPropagation(),t.goToItem(L.Next);case k.ArrowUp:return o.preventDefault(),o.stopPropagation(),t.goToItem(L.Previous);case k.Home:case k.PageUp:return o.preventDefault(),o.stopPropagation(),t.goToItem(L.First);case k.End:case k.PageDown:return o.preventDefault(),o.stopPropagation(),t.goToItem(L.Last);case k.Escape:o.preventDefault(),o.stopPropagation(),t.closeMenu(),A(()=>{var d;return(d=y(t.buttonRef))==null?void 0:d.focus({preventScroll:!0})});break;case k.Tab:o.preventDefault(),o.stopPropagation(),t.closeMenu(),A(()=>st(y(t.buttonRef),o.shiftKey?ce.Previous:ce.Next));break;default:o.key.length===1&&(t.search(o.key),p.value=setTimeout(()=>t.clearSearch(),350));break}}function c(o){switch(o.key){case k.Space:o.preventDefault();break}}let g=_e(),_=C(()=>g!==null?(g.value&O.Open)===O.Open:t.menuState.value===0);return()=>{var o,h;let d={open:t.menuState.value===0},I=e,{id:v}=I,f=z(I,["id"]),m={"aria-activedescendant":t.activeItemIndex.value===null||(o=t.items.value[t.activeItemIndex.value])==null?void 0:o.id,"aria-labelledby":(h=y(t.buttonRef))==null?void 0:h.id,id:v,onKeydown:l,onKeyup:c,role:"menu",tabIndex:0,ref:t.itemsRef};return B({ourProps:m,theirProps:f,slot:d,attrs:a,slots:n,features:K.RenderStrategy|K.Static,visible:_.value,name:"MenuItems"})}}}),j=F({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-menu-item-${U()}`}},setup(e,{slots:a,attrs:n,expose:s}){let t=Y("MenuItem"),p=D(null);s({el:p,$el:p});let l=C(()=>t.activeItemIndex.value!==null?t.items.value[t.activeItemIndex.value].id===e.id:!1),c=la(p),g=C(()=>({disabled:e.disabled,get textValue(){return c()},domRef:p}));q(()=>t.registerItem(e.id,g)),G(()=>t.unregisterItem(e.id)),W(()=>{t.menuState.value===0&&l.value&&t.activationTrigger.value!==0&&A(()=>{var m,I;return(I=(m=y(p))==null?void 0:m.scrollIntoView)==null?void 0:I.call(m,{block:"nearest"})})});function _(m){if(e.disabled)return m.preventDefault();t.closeMenu(),be(y(t.buttonRef))}function o(){if(e.disabled)return t.goToItem(L.Nothing);t.goToItem(L.Specific,e.id)}let h=Gt();function d(m){h.update(m)}function v(m){h.wasMoved(m)&&(e.disabled||l.value||t.goToItem(L.Specific,e.id,0))}function f(m){h.wasMoved(m)&&(e.disabled||l.value&&t.goToItem(L.Nothing))}return()=>{let{disabled:m}=e,I={active:l.value,disabled:m,close:t.closeMenu},S=e,{id:T}=S,E=z(S,["id"]);return B({ourProps:{id:T,ref:p,role:"menuitem",tabIndex:m===!0?void 0:-1,"aria-disabled":m===!0?!0:void 0,disabled:void 0,onClick:_,onFocus:o,onPointerenter:d,onMouseenter:d,onPointermove:v,onMousemove:v,onPointerleave:f,onMouseleave:f},theirProps:J(J({},n),E),slot:I,attrs:n,slots:a,name:"MenuItem"})}}});const pa={class:"max-w-7xl mx-auto px-4 xl:px-0"},ma={class:"relative flex justify-between h-16"},fa={class:"absolute inset-y-0 left-0 flex items-center md:hidden"},va=b("span",{class:"sr-only"},"Open main menu",-1),ga={class:"flex-1 flex items-center justify-center md:items-stretch md:justify-start"},_a={key:0,class:"zfile-admin-index-version-info text-center"},ba=["innerHTML"],ha=["innerHTML"],xa=["innerHTML"],ya=b("br",null,null,-1),wa=b("br",null,null,-1),ka=b("br",null,null,-1),Ia=b("img",{class:"block lg:hidden h-8 w-auto",src:Ye,alt:"Workflow"},null,-1),Sa=b("img",{class:"hidden lg:block h-8 w-auto",src:Ze,alt:"Workflow"},null,-1),Da={class:"hidden lg:ml-6 md:flex md:space-x-4 justify-center flex-1 lg:flex-none"},Ma={class:"absolute inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0"},$a=b("span",{class:"sr-only"},"Open user menu",-1),La=["src"],Ca={key:1,class:"h-8 w-8 rounded-full",src:Je,alt:""},Ra={class:"cursor-pointer border-b"},Ta={class:"pt-2 pb-4 space-y-1"},Ea={class:"p-0 sm:p-10 pb-16 sm:pb-26 bg-gray-100 h-full overflow-y-auto border-t-2"},Pa={class:"max-w-7xl mx-auto bg-white shadow h-full sm:h-auto sm:rounded-lg"},un={__name:"admin",setup(e){let a=Pe(),n=Oe();const{siteSetting:s,githubLatestInfo:t,githubLatestLoading:p,logDownload:l,logout:c,rebuildTitle:g}=Zt(a,n),_=window.localStorage.getItem("zfile-user"),o=JSON.parse(_);let h=C(()=>n.path);return ze(()=>n.path,()=>{g()},{immediate:!0}),(d,v)=>{const f=We,m=ct,I=pt,T=Yt,E=He,S=ie("router-link"),ke=Ut,Ie=Bt,Se=Et,De=$t,Me=kt,Z=Ue,$e=Ve,Le=Ke,Ce=bt,Re=ie("router-view");return $(),R(Ae,null,[r(i(aa),{as:"nav",class:"bg-white shadow"},{default:u(({open:Te})=>[b("div",pa,[b("div",ma,[b("div",fa,[r(i(P),{class:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500"},{default:u(()=>[va,Te?($(),ue(i(ut),{key:1,class:"block h-6 w-6","aria-hidden":"true"})):($(),ue(i(qe),{key:0,class:"block h-6 w-6","aria-hidden":"true"}))]),_:2},1024)]),b("div",ga,[r(I,{placement:"bottom",width:"200",disabled:i(p),trigger:"hover"},{reference:u(()=>{var w,H,ae,ne;return[b("div",{onClick:v[0]||(v[0]=Oa=>i(a).push("/")),class:"cursor-pointer flex-shrink-0 flex items-center"},[Ia,Sa,r(m,{"is-dot":((H=(w=i(t))==null?void 0:w.data)==null?void 0:H.tag_name)&&i(N).version!==((ne=(ae=i(t))==null?void 0:ae.data)==null?void 0:ne.tag_name),class:"hidden lg:block text-sm font-bold word ml-1 tracking-wider"},{default:u(()=>[x(de(i(N).version),1)]),_:1},8,["is-dot"])])]}),default:u(()=>{var w;return[(w=i(t))!=null&&w.data?($(),R("div",_a,[b("div",{innerHTML:`\u5F53\u524D\u7248\u672C\uFF1Av${i(N).version}`},null,8,ba),b("div",{innerHTML:`\u6700\u65B0\u7248\uFF1Av${i(t).data.tag_name}`},null,8,ha),b("div",{innerHTML:`\u53D1\u5E03\u65F6\u95F4: ${i(N).dateFormat(i(t).data.published_at)}`},null,8,xa),ya,x(" \u6587\u6863\u5730\u5740\uFF1A "),r(f,{href:"http://docs.zhaojun.im/zfile",target:"_blank",class:"zfile-word-aux zfile-margin-left-unset"},{default:u(()=>[x("\u70B9\u51FB\u8FDB\u5165 ")]),_:1}),wa,x(" \u540E\u7AEF\u6E90\u7801\u5730\u5740\uFF1A "),r(f,{href:"https://github.com/zhaojun1998/zfile",target:"_blank",class:"zfile-word-aux zfile-margin-left-unset"},{default:u(()=>[x("\u70B9\u51FB\u8FDB\u5165 ")]),_:1}),ka,x(" \u524D\u7AEF\u6E90\u7801\u5730\u5740\uFF1A "),r(f,{href:"https://github.com/zhaojun1998/zfile-vue",target:"_blank",class:"zfile-word-aux zfile-margin-left-unset"},{default:u(()=>[x("\u70B9\u51FB\u8FDB\u5165 ")]),_:1})])):Fe("",!0)]}),_:1},8,["disabled"]),b("div",Da,[r(S,{to:"/admin/site-setting",class:M([i(h)==="/admin/site-setting"?"border-indigo-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium"])},{default:u(()=>[r(E,{size:"18px"},{default:u(()=>[r(T,{class:"mr-1"})]),_:1}),x(" \u57FA\u672C\u8BBE\u7F6E ")]),_:1},8,["class"]),r(S,{to:"/admin/storage-list",class:M([i(h).startsWith("/admin/storage")?"border-indigo-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium"])},{default:u(()=>[r(E,{size:"18px"},{default:u(()=>[r(ke,{class:"mr-1"})]),_:1}),x(" \u5B58\u50A8\u6E90\u8BBE\u7F6E ")]),_:1},8,["class"]),r(S,{to:"/admin/view-setting",class:M([i(h)==="/admin/view-setting"?"border-indigo-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium"])},{default:u(()=>[r(E,{size:"18px"},{default:u(()=>[r(Ie,{class:"mr-1"})]),_:1}),x(" \u663E\u793A\u8BBE\u7F6E ")]),_:1},8,["class"]),r(S,{to:"/admin/view-user",class:M([i(h)==="/admin/view-user"?"border-indigo-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium"])},{default:u(()=>[r(E,{size:"18px"},{default:u(()=>[r(Se,{class:"mr-1"})]),_:1}),x(" \u7528\u6237\u8BBE\u7F6E ")]),_:1},8,["class"]),r(Le,null,{dropdown:u(()=>[r($e,null,{default:u(()=>[r(Z,{icon:i(mt)},{default:u(()=>[r(S,{to:"/admin/download-link"},{default:u(()=>[x("\u77ED\u94FE\u7BA1\u7406")]),_:1})]),_:1},8,["icon"]),r(Z,{icon:i(Be)},{default:u(()=>[r(S,{to:"/admin/download-link/log"},{default:u(()=>[x("\u4E0B\u8F7D\u65E5\u5FD7")]),_:1})]),_:1},8,["icon"]),r(Z,{icon:i(Ne)},{default:u(()=>[r(S,{to:"/admin/download-link/setting"},{default:u(()=>[x("\u76F4/\u77ED\u94FE\u8BBE\u7F6E")]),_:1})]),_:1},8,["icon"])]),_:1})]),default:u(()=>[r(S,{to:"/admin/download-link",class:M([i(h).includes("/admin/download-link")?"border-indigo-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium"])},{default:u(()=>[r(E,{size:"18px"},{default:u(()=>[r(De,{class:"mr-1"})]),_:1}),x(" \u94FE\u63A5\u7BA1\u7406 "),r(E,{class:"el-icon--right"},{default:u(()=>[r(Me)]),_:1})]),_:1},8,["class"])]),_:1}),b("div",{onClick:v[1]||(v[1]=(...w)=>i(l)&&i(l)(...w)),class:"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium"},[r(E,{size:"18px"},{default:u(()=>[r(Ce,{class:"mr-1"})]),_:1}),x(" \u65E5\u5FD7\u4E0B\u8F7D ")])])]),b("div",Ma,[r(i(ua),{as:"div",class:"ml-3 relative"},{default:u(()=>[b("div",null,[r(i(da),{class:"border-2 bg-white rounded-full flex text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:u(()=>{var w,H;return[$a,(H=(w=i(s))==null?void 0:w.data)!=null&&H.avatar?($(),R("img",{key:0,class:"h-8 w-8 rounded-full",src:i(s).data.avatar,alt:""},null,8,La)):($(),R("img",Ca))]}),_:1})]),r(je,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:u(()=>[r(i(ca),{class:"z-10 origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:u(()=>[b("div",Ra,[r(i(j),null,{default:u(()=>[b("div",{class:M([d.active?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])}," \u6B22\u8FCE\u60A8,"+de(i(o).username+"("+i(o).usernameZh+")"),3)]),_:1}),r(i(j),{onClick:v[2]||(v[2]=w=>i(N).openPage("https://docs.zfile.vip"))},{default:u(({active:w})=>[b("div",{class:M([w?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])}," ZFile Docs ",2)]),_:1}),r(i(j),{onClick:v[3]||(v[3]=w=>i(N).openPage("https://github.com/zhaojun1998/zfile"))},{default:u(({active:w})=>[b("div",{class:M([w?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])}," ZFile Github ",2)]),_:1})]),r(i(j),null,{default:u(({active:w})=>[r(S,{to:"/admin/security-setting",class:M([w?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])},{default:u(()=>[x(" \u5B89\u5168\u8BBE\u7F6E ")]),_:2},1032,["class"])]),_:1}),r(i(j),null,{default:u(({active:w})=>[r(S,{to:"/user/update-password",class:M([w?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])},{default:u(()=>[x(" \u4FEE\u6539\u5BC6\u7801 ")]),_:2},1032,["class"])]),_:1}),r(i(j),{onClick:i(c)},{default:u(({active:w})=>[b("a",{href:"#",class:M([w?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])},"\u6CE8\u9500",2)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})])])]),r(i(na),{class:"md:hidden"},{default:u(()=>[b("div",Ta,[r(i(P),{class:M([i(h)==="/admin/site-setting"?"bg-indigo-50 border-indigo-500 text-indigo-700":"border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700","block pl-3 pr-4 py-2 border-l-4 text-base font-medium"]),as:"a"},{default:u(()=>[r(S,{to:"/admin/site-setting"},{default:u(()=>[x("\u57FA\u672C\u8BBE\u7F6E")]),_:1})]),_:1},8,["class"]),r(i(P),{class:M([i(h).startsWith("/admin/storage")?"bg-indigo-50 border-indigo-500 text-indigo-700":"border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700","block pl-3 pr-4 py-2 border-l-4 text-base font-medium"]),as:"a"},{default:u(()=>[r(S,{to:"/admin/storage-list"},{default:u(()=>[x("\u5B58\u50A8\u6E90\u8BBE\u7F6E")]),_:1})]),_:1},8,["class"]),r(i(P),{class:M([i(h).startsWith("/admin/user")?"bg-indigo-50 border-indigo-500 text-indigo-700":"border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700","block pl-3 pr-4 py-2 border-l-4 text-base font-medium"]),as:"a"},{default:u(()=>[r(S,{to:"/admin/view-user"},{default:u(()=>[x("\u7528\u6237\u8BBE\u7F6E")]),_:1})]),_:1},8,["class"]),r(i(P),{class:M([i(h)==="/admin/view-setting"?"bg-indigo-50 border-indigo-500 text-indigo-700":"border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700","block pl-3 pr-4 py-2 border-l-4 text-base font-medium"]),as:"a"},{default:u(()=>[r(S,{to:"/admin/view-setting"},{default:u(()=>[x("\u663E\u793A\u8BBE\u7F6E")]),_:1})]),_:1},8,["class"]),r(i(P),{class:M([i(h)==="/admin/download-link"?"bg-indigo-50 border-indigo-500 text-indigo-700":"border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700","block pl-3 pr-4 py-2 border-l-4 text-base font-medium"]),as:"a"},{default:u(()=>[r(S,{to:"/admin/download-link"},{default:u(()=>[x("\u77ED\u94FE\u7BA1\u7406")]),_:1})]),_:1},8,["class"]),r(i(P),{class:M([i(h)==="/admin/download-link/log"?"bg-indigo-50 border-indigo-500 text-indigo-700":"border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700","block pl-3 pr-4 py-2 border-l-4 text-base font-medium"]),as:"a"},{default:u(()=>[r(S,{to:"/admin/download-link/log"},{default:u(()=>[x("\u4E0B\u8F7D\u65E5\u5FD7")]),_:1})]),_:1},8,["class"]),r(i(P),{class:M([i(h)==="/admin/download-link/setting"?"bg-indigo-50 border-indigo-500 text-indigo-700":"border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700","block pl-3 pr-4 py-2 border-l-4 text-base font-medium"]),as:"a"},{default:u(()=>[r(S,{to:"/admin/download-link/setting"},{default:u(()=>[x("\u76F4/\u77ED\u94FE\u8BBE\u7F6E")]),_:1})]),_:1},8,["class"]),r(i(P),{onClick:i(l),as:"span",class:"block pl-3 pr-4 py-2 border-l-4 text-base font-medium border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700"},{default:u(()=>[x(" \u65E5\u5FD7\u4E0B\u8F7D ")]),_:1},8,["onClick"])])]),_:1})]),_:1}),b("div",Ea,[b("div",Pa,[r(Re,{class:"box animate__animated h-full sm:h-auto overflow-auto animate__fadeIn"})])])],64)}}};export{un as default};
