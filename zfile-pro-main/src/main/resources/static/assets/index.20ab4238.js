import{x as ie}from"./base.9447ff7a.js";/* empty css               */import"./popper.34e4046d.js";/* empty css                */import{E as ce}from"./link.78f066a7.js";import{E as me}from"./tag.be7f307a.js";import{E as de}from"./switch.0dde4485.js";/* empty css              */import{E as pe,a as ye}from"./select.06aace55.js";import"./scrollbar.b58c5e8b.js";import{_ as fe}from"./SvgIcon.bb4e9d6f.js";import{r as S,ac as ge,aa as he,Z as ve,a as n,b as g,e as t,y as b,j as u,z as y,u as e,A as h,f as v,O as A,P as I,D as ke,E as _e,ak as x,l as U,o as Se,c as Z,w as C,af as be,ag as Pe}from"./index.a81894c3.js";import{c as Ve}from"./common.d1611fb2.js";import{Z as V,a as we}from"./ZFormItem.85c758c5.js";import{j as Ae,k as Ie,e as qe,m as Ue,i as Ee}from"./admin-storage.576b99eb.js";import{d as L,E as $}from"./request.88c6336a.js";import{l as Ce}from"./admin-setting.1db20681.js";import{t as Te}from"./vue3-clipboard.esm-bundler.0bd39b9d.js";import{b as H}from"./route-block.89f12ae7.js";import{_ as xe}from"./plugin-vue_export-helper.21dcd24c.js";import{E as Le}from"./index.810024c9.js";import{r as Re}from"./CheckBadgeIcon.5c38551d.js";import{E as Ne}from"./index.9f034646.js";import{E as Fe}from"./index.9dce3cd8.js";import"./focus-trap.c21bbfc6.js";import"./validator.4f1297a1.js";import"./event.807e9a54.js";import"./scroll.c1d55f52.js";import"./index.3b295ed4.js";import"./_Uint8Array.25475a91.js";import"./debounce.ff28d2f1.js";import"./index.b1a3ab43.js";import"./dropdown.5de453d7.js";import"./index.1d04ede7.js";let W={aliyun:[{name:"\u534E\u4E1C 1\uFF08\u676D\u5DDE\uFF09",val:"oss-cn-hangzhou.aliyuncs.com"},{name:"\u534E\u4E1C 2\uFF08\u4E0A\u6D77\uFF09",val:"oss-cn-shanghai.aliyuncs.com"},{name:"\u534E\u5317 1\uFF08\u9752\u5C9B\uFF09",val:"oss-cn-qingdao.aliyuncs.com"},{name:"\u534E\u5317 2\uFF08\u5317\u4EAC\uFF09",val:"oss-cn-beijing.aliyuncs.com"},{name:"\u534E\u5317 3\uFF08\u5F20\u5BB6\u53E3\uFF09",val:"oss-cn-zhangjiakou.aliyuncs.com"},{name:"\u534E\u5317 5\uFF08\u547C\u548C\u6D69\u7279\uFF09",val:"oss-cn-huhehaote.aliyuncs.com"},{name:"\u534E\u5317 6\uFF08\u4E4C\u5170\u5BDF\u5E03\uFF09",val:"oss-cn-wulanchabu.aliyuncs.com"},{name:"\u534E\u5357 1\uFF08\u6DF1\u5733\uFF09",val:"oss-cn-shenzhen.aliyuncs.com"},{name:"\u534E\u5357 2\uFF08\u6CB3\u6E90\uFF09",val:"oss-cn-heyuan.aliyuncs.com"},{name:"\u534E\u5357 3\uFF08\u5E7F\u5DDE\uFF09",val:"oss-cn-guangzhou.aliyuncs.com"},{name:"\u897F\u5357 1\uFF08\u6210\u90FD\uFF09",val:"oss-cn-chengdu.aliyuncs.com"},{name:"\u4E2D\u56FD\uFF08\u9999\u6E2F\uFF09",val:"oss-cn-hongkong.aliyuncs.com"},{name:"\u65B0\u52A0\u5761",val:"oss-ap-southeast-1.aliyuncs.com"},{name:"\u65E5\u672C\uFF08\u4E1C\u4EAC\uFF09",val:"oss-ap-northeast-1.aliyuncs.com"},{name:"\u7F8E\u56FD\u897F\u90E8 1 \uFF08\u7845\u8C37\uFF09",val:"oss-us-west-1.aliyuncs.com"},{name:"\u7F8E\u56FD\u4E1C\u90E8 1 \uFF08\u5F17\u5409\u5C3C\u4E9A\uFF09",val:"oss-us-east-1.aliyuncs.com"},{name:"\u4E9A\u592A\u4E1C\u5357 1 \uFF08\u65B0\u52A0\u5761\uFF09",val:"oss-ap-southeast-1.aliyuncs.com"},{name:"\u4E9A\u592A\u4E1C\u5357 2 \uFF08\u6089\u5C3C\uFF09",val:"oss-ap-southeast-2.aliyuncs.com"},{name:"\u4E9A\u592A\u4E1C\u5357 3 \uFF08\u5409\u9686\u5761\uFF09",val:"oss-ap-southeast-3.aliyuncs.com"},{name:"\u4E9A\u592A\u4E1C\u5357 5 \uFF08\u96C5\u52A0\u8FBE\uFF09",val:"oss-ap-southeast-5.aliyuncs.com"},{name:"\u4E9A\u592A\u4E1C\u5317 1 \uFF08\u65E5\u672C\uFF09",val:"oss-ap-northeast-1.aliyuncs.com"},{name:"\u4E9A\u592A\u5357\u90E8 1 \uFF08\u5B5F\u4E70\uFF09",val:"oss-ap-south-1.aliyuncs.com"},{name:"\u6B27\u6D32\u4E2D\u90E8 1 \uFF08\u6CD5\u5170\u514B\u798F\uFF09",val:"oss-eu-central-1.aliyuncs.com"},{name:"\u82F1\u56FD\uFF08\u4F26\u6566\uFF09",val:"oss-eu-west-1.aliyuncs.com"},{name:"\u4E2D\u4E1C\u4E1C\u90E8 1 \uFF08\u8FEA\u62DC\uFF09",val:"oss-me-east-1.aliyuncs.com"}],tencent:[{name:"\u5317\u4EAC\u4E00\u533A",val:"cos.ap-beijing-1.myqcloud.com"},{name:"\u5317\u4EAC",val:"cos.ap-beijing.myqcloud.com"},{name:"\u4E0A\u6D77",val:"cos.ap-shanghai.myqcloud.com"},{name:"\u5E7F\u5DDE",val:"cos.ap-guangzhou.myqcloud.com"},{name:"\u6210\u90FD",val:"cos.ap-chengdu.myqcloud.com"},{name:"\u91CD\u5E86",val:"cos.ap-chongqing.myqcloud.com"},{name:"\u6DF1\u5733\u91D1\u878D",val:"cos.ap-shenzhen-fsi.myqcloud.com"},{name:"\u4E0A\u6D77\u91D1\u878D",val:"cos.ap-shanghai-fsi.myqcloud.com"},{name:"\u5317\u4EAC\u91D1\u878D",val:"cos.ap-beijing-fsi.myqcloud.com"},{name:"\u4E2D\u56FD\u9999\u6E2F",val:"cos.ap-hongkong.myqcloud.com"},{name:"\u65B0\u52A0\u5761",val:"cos.ap-singapore.myqcloud.com"},{name:"\u5B5F\u4E70",val:"cos.ap-mumbai.myqcloud.com"},{name:"\u96C5\u8FBE\u52A0",val:"cos.ap-jakarta.myqcloud.com"},{name:"\u9996\u5C14",val:"cos.ap-seoul.myqcloud.com"},{name:"\u66FC\u8C37",val:"cos.ap-bangkok.myqcloud.com"},{name:"\u4E1C\u4EAC",val:"cos.ap-tokyo.myqcloud.com"},{name:"\u7845\u8C37\uFF08\u7F8E\u897F\uFF09",val:"cos.na-siliconvalley.myqcloud.com"},{name:"\u5F17\u5409\u5C3C\u4E9A\uFF08\u7F8E\u4E1C\uFF09",val:"cos.na-ashburn.myqcloud.com"},{name:"\u591A\u4F26\u591A",val:"cos.na-toronto.myqcloud.com"},{name:"\u6CD5\u5170\u514B\u798F",val:"cos.eu-frankfurt.myqcloud.com"},{name:"\u83AB\u65AF\u79D1",val:"cos.eu-moscow"}],huawei:[{name:"\u975E\u6D32-\u7EA6\u7FF0\u5185\u65AF\u5821",val:"obs.af-south-1.myhuaweicloud.com"},{name:"\u534E\u5317-\u5317\u4EAC\u56DB",val:"obs.cn-north-4.myhuaweicloud.com"},{name:"\u534E\u5317-\u5317\u4EAC\u4E00",val:"obs.cn-north-1.myhuaweicloud.com"},{name:"\u534E\u4E1C-\u4E0A\u6D77\u4E8C",val:"obs.cn-east-2.myhuaweicloud.com"},{name:"\u534E\u4E1C-\u4E0A\u6D77\u4E00",val:"obs.cn-east-3.myhuaweicloud.com"},{name:"\u534E\u5357-\u5E7F\u5DDE",val:"obs.cn-south-1.myhuaweicloud.com"},{name:"\u897F\u5357-\u8D35\u9633\u4E00",val:"obs.cn-southwest-2.myhuaweicloud.com"},{name:"\u4E9A\u592A-\u66FC\u8C37",val:"obs.ap-southeast-2.myhuaweicloud.com"},{name:"\u4E2D\u56FD-\u9999\u6E2F",val:"obs.ap-southeast-1.myhuaweicloud.com"},{name:"\u4E9A\u592A-\u65B0\u52A0\u5761",val:"obs.ap-southeast-3.myhuaweicloud.com"}],qiniu:[{name:"\u534E\u4E1C",val:"s3-cn-east-1.qiniucs.com"},{name:"\u534E\u5317",val:"s3-cn-north-1.qiniucs.com"},{name:"\u534E\u5357",val:"s3-cn-south-1.qiniucs.com"},{name:"\u5317\u7F8E",val:"s3-us-north-1.qiniucs.com"},{name:"\u4E1C\u5357\u4E9A",val:"s3-ap-southeast-1.qiniucs.com"},{name:"\u534E\u4E1C-\u6D59\u6C5F2",val:"s3-cn-east-2.qiniucs.com"}]};const Me=k=>L({url:"/sharepoint/getSites",method:"post",data:k}),ze=k=>L({url:"/sharepoint/getSiteLists",method:"post",data:k}),Oe=k=>L({url:"/s3/getBuckets",method:"post",data:k,config:{showDefaultMsg:!1}}),De=k=>L({url:"/gd/drives",method:"post",data:k,config:{showDefaultMsg:!1}});const M=k=>(be("data-v-31ee6b76"),k=k(),Pe(),k),Ke={class:"flex justify-items-center"},Be=M(()=>b("span",null,"\u5B58\u50A8\u6E90\u4FE1\u606F",-1)),je=M(()=>b("a",{class:"link",target:"_blank",href:"https://docs.zfile.vip/example"},"ZFile \u5B58\u50A8\u6E90\u914D\u7F6E\u6587\u6863",-1)),Ze={style:{float:"left"}},$e={style:{float:"right",color:"#8492a6","font-size":"13px"}},He={style:{float:"left"}},We={style:{float:"left"}},Ge=M(()=>b("span",{class:"float-left"}," \u9ED8\u8BA4\u7A7A\u95F4 ",-1)),Je={class:"float-right"},Qe={class:"float-left"},Xe={class:"float-left"},Ye={class:"float-right"},ea={key:8},aa={key:0},la={key:0},oa=["innerHTML"],ta={key:2},sa={key:3},ra={key:4},G={__name:"index",setup(k){const P=S();let J=ge(),Q=he(),z=null,O=S();const X=()=>{O.value.validate(d=>{if(d)R.value=!0,Ae(a.value).then(()=>{N.value=!0,Ne.confirm("\u4FDD\u5B58\u6210\u529F, \u662F\u5426\u8FD4\u56DE\u5B58\u50A8\u6E90\u5217\u8868\uFF1F","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",type:"success",callback:s=>{s==="confirm"&&J.push("/admin/storage-list")}})}).finally(()=>{R.value=!1});else return $.warning("\u8868\u5355\u9A8C\u8BC1\u5931\u8D25, \u8BF7\u68C0\u67E5\u8868\u5355\u6570\u636E\u662F\u5426\u586B\u5199\u6B63\u786E"),!1})};let Y=()=>{let d=S({orderNum:null,name:"",type:"",remark:"",alias:"",defaultSwitchToImgMode:!1,enable:!0,enableFileOperator:!0,enableFileAnnoOperator:!1,searchEnable:!1,searchIgnoreCase:!1,searchMode:"SEARCH_CACHE",enableCache:!1,autoRefreshCache:!1,storageSourceAllParam:{endPoint:"",pathStyle:"",isPrivate:!1,accessKey:null,secretKey:null,bucketName:null,host:null,port:null,filePath:null,accessToken:null,refreshToken:null,secretId:null,username:null,password:null,basePath:"",domain:"",listId:"",redirectUri:"",siteId:"",proxyDomain:"",downloadLinkType:"",clientId:"",clientSecret:"",region:"",autoConfigCors:!1,driveId:""}});const s=i=>{Ee(i).then(r=>{r.data.type=r.data.type.key,d.value=r.data,z=r.data.key})};let p=S(!1),f=S([]);Se(()=>{Ie().then(r=>{f.value=r.data}),Ce().then(r=>{P.value=r.data,P.value.domain.endsWith("/")||(P.value.domain+="/")});let i=Q.params.storageId;i&&(p.value=!0,s(i))});let c=S(!1),_=S({name:[{required:!0,message:"\u8BF7\u8F93\u5165\u5B58\u50A8\u6E90\u540D\u79F0"}],key:[{validator:(i,r,m)=>{if(r==null||r===""){m();return}if(["admin","file","login","install","s","onedrive","api","sharepoint","s3","webdav","user"].includes(r)){m(new Error("\u4E0D\u53EF\u5360\u7528\u7CFB\u7EDF\u7EA7\u540D\u79F0\uFF0C\u8BF7\u4FEE\u6539\u3002"));return}if(!/^[\w\-]+$/.test(r)){m(new Error("\u53EA\u5141\u8BB8\u4F7F\u7528\u5B57\u6BCD\u3001\u6570\u5B57\u3001\u4E0B\u5212\u7EBF\u3001\u6A2A\u6760"));return}if(z===r){m();return}qe({storageKey:r}).then(F=>{F.data?m(new Error("\u8BE5\u5B58\u50A8\u6E90\u522B\u540D\u5DF2\u5B58\u5728\uFF0C\u8BF7\u4FEE\u6539\u3002")):m()})}}],type:[{required:!0,message:"\u5B58\u50A8\u7B56\u7565\u4E0D\u80FD\u4E3A\u7A7A"}],"storageSourceAllParam.domain":[{type:"url",message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u57DF\u540D\uFF0C\u9700\u4EE5 http:// \u6216 https:// \u5F00\u5934"},{validator:(i,r,m)=>{if(r==null||r===""){m();return}if(window.location.protocol==="https:"&&r.indexOf("http://")===0){m(new Error("\u68C0\u6D4B\u5230\u5F53\u524D ZFile \u7AD9\u70B9\u662F https \u534F\u8BAE, \u53D7\u6D4F\u89C8\u5668\u9650\u5236, \u6B64\u5904\u4E5F\u5FC5\u987B\u662F https \u534F\u8BAE, \u5426\u5219\u53EF\u80FD\u65E0\u6CD5\u6B63\u5E38\u4F7F\u7528."));return}m()}}],"storageSourceAllParam.filePath":[{validator:(i,r,m)=>{if(r==null||r===""){m(new Error("\u672C\u5730\u5B58\u50A8\u8DEF\u5F84\u4E0D\u80FD\u4E3A\u7A7A"));return}let w=/^\/.*/.test(r),q=/^[a-zA-Z]+:.*/.test(r);if(console.log(w,q),!w&&!q){m(new Error("\u672C\u5730\u5B58\u50A8\u8DEF\u5F84\u5FC5\u987B\u662F\u7EDD\u5BF9\u8DEF\u5F84\uFF0CLinux \u4EE5 / \u5F00\u5934\uFF0CWindows \u4EE5\u76D8\u7B26\u5F00\u5934"));return}m()}}]});return{storageItem:d,supportStorageType:f,loading:c,rules:_,isEditMode:p}},{storageItem:a,supportStorageType:ee,loading:R,rules:ae,isEditMode:N}=Y(),le=()=>{let d=S([]),s=Z(()=>({accessKey:a.value.storageSourceAllParam.accessKey||a.value.storageSourceAllParam.secretId,secretKey:a.value.storageSourceAllParam.secretKey,endPoint:a.value.storageSourceAllParam.endPoint,region:a.value.storageSourceAllParam.region}));C(()=>s.value,f=>{!Ve.storageType.s3Type.includes(a.value.type)||f.accessKey&&f.secretKey&&f.endPoint&&p(f)});const p=f=>{Oe(f).then(c=>{d.value=c.data}).catch(c=>{d.value=[]})};return{bucketList:d}},{bucketList:D}=le(),oe=()=>{let d=S([]),s=Z(()=>({accessToken:a.value.storageSourceAllParam.accessToken}));C(()=>s.value,f=>{a.value.type==="google-drive"&&p(f)});const p=f=>{De(f).then(c=>{d.value=c.data}).catch(c=>{d.value=[]})};return{drivesList:d}},{drivesList:K}=oe(),te=()=>{let d=S([]),s=S([]);const p=i=>i.indexOf("sharepoint")!==-1,f=i=>i==="sharepoint"?"Standard":"China";C(()=>a.value.storageSourceAllParam.accessToken,i=>{i&&c()});const c=()=>{let i=a.value.type;if(p(i)){let r={type:f(i),accessToken:a.value.storageSourceAllParam.accessToken};Me(r).then(m=>{d.value=m.data})}};C(()=>a.value.storageSourceAllParam.siteId,i=>{i&&_()});const _=()=>{let i=a.value.type;if(p(i)){let r={type:f(i),accessToken:a.value.storageSourceAllParam.accessToken,siteId:a.value.storageSourceAllParam.siteId};ze(r).then(m=>{s.value=m.data})}};return{sharepointSites:d,sharepointSiteLists:s,isSharePoint:p}},{sharepointSites:se,sharepointSiteLists:re,isSharePoint:B}=te(),ne=()=>{C(()=>a.value.type,p=>{s(p)});let d=S([]);const s=p=>{!p||Ue({storageType:p}).then(f=>{d.value=f.data;for(let c of d.value)!N.value&&c.defaultValue?(c.defaultValue==="true"?c.defaultValue=!0:c.defaultValue==="false"&&(c.defaultValue=!1),a.value.storageSourceAllParam[c.key]=c.defaultValue):c.key==="redirectUri"&&!a.value.storageSourceAllParam[c.key]&&(a.value.storageSourceAllParam[c.key]=c.defaultValue)})};return{storageSourceParamList:d}},{storageSourceParamList:ue}=ne(),T=d=>{Te(d).then(()=>{$.success("\u590D\u5236\u6210\u529F")})};return(d,s)=>{const p=fe,f=ve("router-link"),c=Fe,_=pe,i=ye,r=de,m=me,w=ce,q=Le,F=ie;return n(),g(we,{model:e(a),class:"zfile-storage-edit",rules:e(ae),ref_key:"storageEditForm",ref:O},{"form-title":t(()=>[b("div",Ke,[u(f,{to:"/admin/storage-list"},{default:t(()=>[u(p,{class:"inline mr-2 cursor-pointer",name:"file-type-back"})]),_:1}),Be])]),"form-sub-title":t(()=>[y(" \u8BF7\u7EF4\u62A4\u60A8\u7684\u5B58\u50A8\u6E90\u4FE1\u606F\uFF0C\u53EF\u53C2\u8003 "),je]),footer:t(()=>[u(F,{loading:e(R),type:"primary",size:"default",icon:e(Re),onClick:X},{default:t(()=>[y("\u4FDD\u5B58\u8BBE\u7F6E")]),_:1},8,["loading","icon"])]),default:t(()=>[u(V,{label:"\u5B58\u50A8\u6E90\u540D\u79F0",prop:"name"},{default:t(()=>[u(c,{modelValue:e(a).name,"onUpdate:modelValue":s[0]||(s[0]=l=>e(a).name=l)},null,8,["modelValue"])]),_:1}),u(V,{label:"\u5B58\u50A8\u6E90\u522B\u540D",prop:"key"},{tips:t(()=>{var l;return[y(" \u5B58\u50A8\u6E90\u522B\u540D\uFF0C\u7528\u4E8E URL \u4E2D\u5C55\u793A, \u5982 "+h((l=e(P))==null?void 0:l.domain)+h(e(a).key||"{\u5B58\u50A8\u6E90\u522B\u540D}"),1)]}),default:t(()=>[u(c,{modelValue:e(a).key,"onUpdate:modelValue":s[1]||(s[1]=l=>e(a).key=l)},null,8,["modelValue"])]),_:1}),u(V,{label:"\u5B58\u50A8\u6E90\u5907\u6CE8"},{tips:t(()=>[y(" \u5B58\u50A8\u6E90\u5907\u6CE8\u4FE1\u606F, \u7528\u4E8E\u8F85\u52A9\u7BA1\u7406\u5458\u533A\u5206\u4E0D\u540C\u7684\u5B58\u50A8\u6E90, \u6B64\u5B57\u6BB5\u4EC5\u7BA1\u7406\u5458\u53EF\u89C1 ")]),default:t(()=>[u(c,{type:"textarea",rows:3,placeholder:"\u8BF7\u8F93\u5165\u5B58\u50A8\u6E90\u5907\u6CE8",modelValue:e(a).remark,"onUpdate:modelValue":s[2]||(s[2]=l=>e(a).remark=l)},null,8,["modelValue"])]),_:1}),u(V,{label:"\u5B58\u50A8\u7B56\u7565",prop:"type"},{default:t(()=>[u(i,{disabled:e(N),filterable:"",modelValue:e(a).type,"onUpdate:modelValue":s[3]||(s[3]=l=>e(a).type=l),placeholder:"\u8BF7\u9009\u62E9\u5B58\u50A8\u7B56\u7565"},{default:t(()=>[(n(!0),v(A,null,I(e(ee),l=>(n(),g(_,{key:l.key,label:l.description,value:l.key},null,8,["label","value"]))),128))]),_:1},8,["disabled","modelValue"])]),_:1}),u(V,{label:"\u662F\u5426\u542F\u7528"},{tips:t(()=>[y(" \u5982\u4E0D\u542F\u7528\uFF0C\u5219\u5728\u524D\u53F0\u4E0D\u663E\u793A\uFF0C\u4E14\u4E0D\u53EF\u8BBF\u95EE. ")]),default:t(()=>[u(r,{modelValue:e(a).enable,"onUpdate:modelValue":s[4]||(s[4]=l=>e(a).enable=l)},null,8,["modelValue"])]),_:1}),u(V,{label:"\u542F\u7528\u6587\u4EF6\u64CD\u4F5C"},{tips:t(()=>[y(" \u662F\u5426\u542F\u7528\u6587\u4EF6\u4E0A\u4F20\uFF0C\u7F16\u8F91\uFF0C\u5220\u9664\u7B49\u64CD\u4F5C. ")]),default:t(()=>[u(r,{modelValue:e(a).enableFileOperator,"onUpdate:modelValue":s[5]||(s[5]=l=>e(a).enableFileOperator=l)},null,8,["modelValue"])]),_:1}),ke(u(V,{label:"\u5141\u8BB8\u533F\u540D\u6587\u4EF6\u64CD\u4F5C"},{tips:t(()=>[y(" \u5F00\u542F\u540E\u6240\u6709\u4EBA\u90FD\u53EF\u8FDB\u884C\u6587\u4EF6\u64CD\u4F5C\uFF0C\u53CD\u4E4B\u4EC5\u7BA1\u7406\u5458\u767B\u5F55\u540E\u53EF\u64CD\u4F5C ")]),default:t(()=>[u(r,{modelValue:e(a).enableFileAnnoOperator,"onUpdate:modelValue":s[6]||(s[6]=l=>e(a).enableFileAnnoOperator=l)},null,8,["modelValue"])]),_:1},512),[[_e,e(a).enableFileOperator]]),u(V,{label:"\u662F\u5426\u9ED8\u8BA4\u6253\u5F00\u753B\u5ECA\u6A21\u5F0F"},{tips:t(()=>[y(" \u542F\u7528\u540E\uFF0C\u6BCF\u6B21\u5207\u6362\u5230\u6B64\u5B58\u50A8\u6E90\uFF0C\u662F\u5426\u9ED8\u8BA4\u6253\u5F00\u753B\u5ECA\u6A21\u5F0F ")]),default:t(()=>[u(r,{modelValue:e(a).defaultSwitchToImgMode,"onUpdate:modelValue":s[7]||(s[7]=l=>e(a).defaultSwitchToImgMode=l)},null,8,["modelValue"])]),_:1}),(n(!0),v(A,null,I(e(ue),l=>(n(),g(V,{label:l.name,key:l.name,required:l.required,prop:"storageSourceAllParam."+l.key},{tips:t(()=>[l.link?(n(),v("div",aa,[l.key==="accessToken"?(n(),v("span",la,[u(w,{target:"_blank",icon:e(x),href:l.link+"?clientId="+encodeURIComponent(e(a).storageSourceAllParam.clientId)+"&clientSecret="+encodeURIComponent(e(a).storageSourceAllParam.clientSecret)+"&redirectUri="+encodeURIComponent(e(a).storageSourceAllParam.redirectUri)},{default:t(()=>[y(h(l.linkName),1)]),_:2},1032,["icon","href"]),u(p,{onClick:E=>e(T)(l.link+"?clientId="+encodeURIComponent(e(a).storageSourceAllParam.clientId)+"&clientSecret="+encodeURIComponent(e(a).storageSourceAllParam.clientSecret)+"&redirectUri="+encodeURIComponent(e(a).storageSourceAllParam.redirectUri)),class:"inline cursor-pointer ml-2 text-lg relative top-0.5",name:"copy"},null,8,["onClick"])])):(n(),g(w,{key:1,target:"_blank",icon:e(x),href:l.link},{default:t(()=>[y(h(l.linkName),1)]),_:2},1032,["icon","href"]))])):U("",!0),l.description?(n(),v("div",{key:1,innerHTML:l.description},null,8,oa)):U("",!0),l.key==="redirectUri"&&l.description&&["onedrive","sharepoint"].includes(e(a).type)?(n(),v("div",ta,[y(" \u5982\uFF1A"+h(e(P).domain)+"onedrive/callback ",1),u(p,{onClick:s[13]||(s[13]=E=>e(T)(e(P).domain+"onedrive/callback")),class:"inline cursor-pointer ml-1",name:"copy"})])):U("",!0),l.key==="redirectUri"&&l.description&&["onedrive-china","sharepoint-china"].includes(e(a).type)?(n(),v("div",sa,[y(" \u5982\uFF1A"+h(e(P).domain)+"onedrive/china-callback ",1),u(p,{onClick:s[14]||(s[14]=E=>e(T)(e(P).domain+"onedrive/china-callback")),class:"inline cursor-pointer ml-1",name:"copy"})])):U("",!0),l.key==="redirectUri"&&l.description&&e(a).type==="google-drive"?(n(),v("div",ra,[y(" \u5982\uFF1A"+h(e(P).domain)+"gd/callback ",1),u(p,{onClick:s[15]||(s[15]=E=>e(T)(e(P).domain+"gd/callback")),class:"inline cursor-pointer ml-1",name:"copy"})])):U("",!0)]),default:t(()=>{var E,j;return[l.key==="endPoint"&&e(W).hasOwnProperty(e(a).type)?(n(),g(i,{key:0,filterable:"","allow-create":"","default-first-option":"",style:{width:"100%"},modelValue:e(a).storageSourceAllParam.endPoint,"onUpdate:modelValue":s[8]||(s[8]=o=>e(a).storageSourceAllParam.endPoint=o)},{default:t(()=>[(n(!0),v(A,null,I(e(W)[e(a).type],o=>(n(),g(_,{label:o.name,value:o.val,key:o.name},{default:t(()=>[b("span",Ze,h(o.name),1),b("span",$e,h(o.val),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])):l.key==="siteId"&&e(B)(e(a).type)?(n(),g(i,{key:1,filterable:"",placeholder:"\u8BF7\u9009\u62E9\u7AD9\u70B9\u5217\u8868",modelValue:e(a).storageSourceAllParam.siteId,"onUpdate:modelValue":s[9]||(s[9]=o=>e(a).storageSourceAllParam.siteId=o),class:"input-with-select"},{default:t(()=>[(n(!0),v(A,null,I(e(se),o=>(n(),g(_,{key:o.id,label:o.displayName,value:o.id},{default:t(()=>[b("span",He,[y(h(o.displayName)+" ",1),o.displayName==="Communication site"?(n(),g(m,{key:0,type:"success"},{default:t(()=>[y("\u9ED8\u8BA4\u7F51\u7AD9")]),_:1})):U("",!0)]),u(q,{placement:"right",width:"400",trigger:"hover",content:o.webUrl},{reference:t(()=>[u(w,{target:"_blank",icon:e(x),href:o.webUrl,underline:!1,class:"float-right",type:"primary"},{default:t(()=>[y("\u67E5\u770B\u7F51\u7AD9")]),_:2},1032,["icon","href"])]),_:2},1032,["content"])]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])):l.key==="listId"&&e(B)(e(a).type)?(n(),g(i,{key:2,filterable:"",placeholder:"\u8BF7\u9009\u62E9\u7F51\u7AD9\u5B50\u76EE\u5F55",modelValue:e(a).storageSourceAllParam.listId,"onUpdate:modelValue":s[10]||(s[10]=o=>e(a).storageSourceAllParam.listId=o),class:"input-with-select"},{default:t(()=>[(n(!0),v(A,null,I(e(re),o=>(n(),g(_,{key:o.id,label:o.displayName,value:o.id},{default:t(()=>[b("span",We,[y(h(o.displayName)+" ",1),o.displayName==="Communication site"?(n(),g(m,{key:0,type:"success"},{default:t(()=>[y("\u9ED8\u8BA4\u7F51\u7AD9")]),_:1})):U("",!0)]),u(q,{placement:"right",width:"400",trigger:"hover",content:o.webUrl},{reference:t(()=>[u(w,{target:"_blank",icon:e(x),href:o.webUrl,underline:!1,class:"float-right",type:"primary"},{default:t(()=>[y("\u67E5\u770B\u7F51\u7AD9")]),_:2},1032,["icon","href"])]),_:2},1032,["content"])]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])):l.key==="driveId"&&((E=e(K))==null?void 0:E.length)>0?(n(),g(i,{key:3,filterable:"",placeholder:"\u8BF7\u9009\u62E9\u9A71\u52A8\u5668\u5217\u8868",modelValue:e(a).storageSourceAllParam.driveId,"onUpdate:modelValue":s[11]||(s[11]=o=>e(a).storageSourceAllParam.driveId=o),class:"input-with-select"},{default:t(()=>[u(_,{value:"",label:"\u9ED8\u8BA4\u7A7A\u95F4"},{default:t(()=>[Ge,b("span",Je,[u(m,{type:"primary",class:"float-right"},{default:t(()=>[y(" \u4E2A\u4EBA\u76D8 ")]),_:1})])]),_:1}),(n(!0),v(A,null,I(e(K),o=>(n(),g(_,{key:o.id,label:o.name,value:o.id},{default:t(()=>[b("span",Qe,h(o.name),1),u(q,{placement:"left",width:"400",trigger:"hover",content:o.id},{reference:t(()=>[u(m,{type:"success",class:"float-right"},{default:t(()=>[y(" \u56E2\u961F\u76D8 ")]),_:1})]),_:2},1032,["content"])]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])):l.key==="bucketName"&&((j=e(D))==null?void 0:j.length)>0?(n(),g(i,{key:4,filterable:"",placeholder:"\u8BF7\u9009\u62E9\u5B58\u50A8\u5668\u5217\u8868",modelValue:e(a).storageSourceAllParam.bucketName,"onUpdate:modelValue":s[12]||(s[12]=o=>e(a).storageSourceAllParam.bucketName=o),class:"input-with-select"},{default:t(()=>[(n(!0),v(A,null,I(e(D),o=>(n(),g(_,{key:o.name,label:o.name,value:o.name},{default:t(()=>[b("span",Xe,h(o.name),1),b("span",Ye,h(o.date),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])):l.type==="select"?(n(),g(i,{key:5,filterable:"","default-first-option":"",modelValue:e(a).storageSourceAllParam[l.key],"onUpdate:modelValue":o=>e(a).storageSourceAllParam[l.key]=o},{default:t(()=>[(n(!0),v(A,null,I(l.options,o=>(n(),g(_,{key:o.value,label:o.label,value:o.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):l.type==="switch"?(n(),g(r,{key:6,modelValue:e(a).storageSourceAllParam[l.key],"onUpdate:modelValue":o=>e(a).storageSourceAllParam[l.key]=o},null,8,["modelValue","onUpdate:modelValue"])):l.type==="input"?(n(),g(c,{key:7,modelValue:e(a).storageSourceAllParam[l.key],"onUpdate:modelValue":o=>e(a).storageSourceAllParam[l.key]=o},null,8,["modelValue","onUpdate:modelValue"])):(n(),v("div",ea," \u670D\u52A1\u7AEF\u914D\u7F6E\u9519\u8BEF, \u5B57\u6BB5 "+h(l.key)+" \u7C7B\u578B\u4E3A "+h(l.type)+", \u4E0D\u652F\u6301\u6B64\u7C7B\u578B\u7684\u6E32\u67D3. ",1))]}),_:2},1032,["label","required","prop"]))),128))]),_:1},8,["model","rules"])}}};typeof H=="function"&&H(G);var Da=xe(G,[["__scopeId","data-v-31ee6b76"]]);export{Da as default};
