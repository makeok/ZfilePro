var q=Object.defineProperty,W=Object.defineProperties;var Y=Object.getOwnPropertyDescriptors;var B=Object.getOwnPropertySymbols;var j=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var D=(e,o,l)=>o in e?q(e,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[o]=l,x=(e,o)=>{for(var l in o||(o={}))j.call(o,l)&&D(e,l,o[l]);if(B)for(var l of B(o))H.call(o,l)&&D(e,l,o[l]);return e},F=(e,o)=>W(e,Y(o));import{b as A,n as J,d as I,z as K,A as Q,e as P,B as X,g as R,D as ee,F as S,G as oe}from"./base.9447ff7a.js";import{U as E}from"./event.807e9a54.js";import{b as le}from"./index.1d04ede7.js";import{i as te}from"./focus-trap.c21bbfc6.js";import{r,c as T,w as h,W as ne,o as ae,Y as se}from"./index.a81894c3.js";const ue=A({center:Boolean,alignCenter:Boolean,closeIcon:{type:J},customClass:{type:String,default:""},draggable:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),me={close:()=>!0},pe=A(F(x({},ue),{appendToBody:Boolean,appendTo:{type:I(String),default:"body"},beforeClose:{type:I(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}})),Ce={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[E]:e=>K(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},ge=(e,o)=>{var l;const n=se().emit,{nextZIndex:p}=Q();let C="";const O=P(),k=P(),a=r(!1),d=r(!1),c=r(!1),f=r((l=e.zIndex)!=null?l:p());let u,i;const w=X("namespace",ee),L=T(()=>{const t={},s=`--${w.value}-dialog`;return e.fullscreen||(e.top&&(t[`${s}-margin-top`]=e.top),e.width&&(t[`${s}-width`]=R(e.width))),t}),N=T(()=>e.alignCenter?{display:"flex"}:{});function z(){n("opened")}function M(){n("closed"),n(E,!1),e.destroyOnClose&&(c.value=!1)}function U(){n("close")}function g(){i==null||i(),u==null||u(),e.openDelay&&e.openDelay>0?{stop:u}=S(()=>b(),e.openDelay):b()}function y(){u==null||u(),i==null||i(),e.closeDelay&&e.closeDelay>0?{stop:i}=S(()=>m(),e.closeDelay):m()}function v(){function t(s){s||(d.value=!0,a.value=!1)}e.beforeClose?e.beforeClose(t):y()}function V(){e.closeOnClickModal&&v()}function b(){!oe||(a.value=!0)}function m(){a.value=!1}function _(){n("openAutoFocus")}function $(){n("closeAutoFocus")}function G(t){var s;((s=t.detail)==null?void 0:s.focusReason)==="pointer"&&t.preventDefault()}e.lockScroll&&le(a);function Z(){e.closeOnPressEscape&&v()}return h(()=>e.modelValue,t=>{t?(d.value=!1,g(),c.value=!0,f.value=te(e.zIndex)?p():f.value++,ne(()=>{n("open"),o.value&&(o.value.scrollTop=0)})):a.value&&y()}),h(()=>e.fullscreen,t=>{!o.value||(t?(C=o.value.style.transform,o.value.style.transform=""):o.value.style.transform=C)}),ae(()=>{e.modelValue&&(a.value=!0,c.value=!0,g())}),{afterEnter:z,afterLeave:M,beforeLeave:U,handleClose:v,onModalClick:V,close:y,doClose:m,onOpenAutoFocus:_,onCloseAutoFocus:$,onCloseRequested:Z,onFocusoutPrevented:G,titleId:O,bodyId:k,closed:d,style:L,overlayDialogStyle:N,rendered:c,visible:a,zIndex:f}};export{me as a,pe as b,Ce as c,ue as d,ge as u};
