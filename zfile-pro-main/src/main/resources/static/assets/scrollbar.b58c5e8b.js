var oe=Object.defineProperty,se=Object.defineProperties;var re=Object.getOwnPropertyDescriptors;var K=Object.getOwnPropertySymbols;var ne=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable;var P=Math.pow,U=(i,a,t)=>a in i?oe(i,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[a]=t,V=(i,a)=>{for(var t in a||(a={}))ne.call(a,t)&&U(i,t,a[t]);if(K)for(var t of K(a))ie.call(a,t)&&U(i,t,a[t]);return i},q=(i,a)=>se(i,re(a));import{u as W,b as ce}from"./request.88c6336a.js";import{d as B,q as ue,r as v,c as S,a6 as ve,N as G,a as H,b as $,e as ee,D as fe,y as D,g as T,u as d,n as X,E as me,T as de,f as te,j as I,O as he,w as F,W as J,p as pe,S as be,o as ye,_ as ge,i as Se,m as we,l as ze,t as _e}from"./index.a81894c3.js";import{b as Y,a as ae,t as Ee,_ as j,G as He,d as Te,i as E,g as Q,w as Ne}from"./base.9447ff7a.js";const g=4,ke={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Ce=({move:i,size:a,bar:t})=>({[t.size]:a,transform:`translate${t.axis}(${i}%)`}),le=Symbol("scrollbarContextKey"),Re=Y({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),Le="Thumb",Pe=B({__name:"thumb",props:Re,setup(i){const a=i,t=ue(le),s=ae("scrollbar");t||Ee(Le,"can not inject scrollbar context");const u=v(),f=v(),n=v({}),m=v(!1);let o=!1,p=!1,b=He?document.onselectstart:null;const l=S(()=>ke[a.vertical?"vertical":"horizontal"]),w=S(()=>Ce({size:a.size,move:a.move,bar:l.value})),z=S(()=>P(u.value[l.value.offset],2)/t.wrapElement[l.value.scrollSize]/a.ratio/f.value[l.value.offset]),N=r=>{var e;if(r.stopPropagation(),r.ctrlKey||[1,2].includes(r.button))return;(e=window.getSelection())==null||e.removeAllRanges(),M(r);const c=r.currentTarget;!c||(n.value[l.value.axis]=c[l.value.offset]-(r[l.value.client]-c.getBoundingClientRect()[l.value.direction]))},O=r=>{if(!f.value||!u.value||!t.wrapElement)return;const e=Math.abs(r.target.getBoundingClientRect()[l.value.direction]-r[l.value.client]),c=f.value[l.value.offset]/2,h=(e-c)*100*z.value/u.value[l.value.offset];t.wrapElement[l.value.scroll]=h*t.wrapElement[l.value.scrollSize]/100},M=r=>{r.stopImmediatePropagation(),o=!0,document.addEventListener("mousemove",k),document.addEventListener("mouseup",y),b=document.onselectstart,document.onselectstart=()=>!1},k=r=>{if(!u.value||!f.value||o===!1)return;const e=n.value[l.value.axis];if(!e)return;const c=(u.value.getBoundingClientRect()[l.value.direction]-r[l.value.client])*-1,h=f.value[l.value.offset]-e,_=(c-h)*100*z.value/u.value[l.value.offset];t.wrapElement[l.value.scroll]=_*t.wrapElement[l.value.scrollSize]/100},y=()=>{o=!1,n.value[l.value.axis]=0,document.removeEventListener("mousemove",k),document.removeEventListener("mouseup",y),C(),p&&(m.value=!1)},x=()=>{p=!1,m.value=!!a.size},A=()=>{p=!0,m.value=o};ve(()=>{C(),document.removeEventListener("mouseup",y)});const C=()=>{document.onselectstart!==b&&(document.onselectstart=b)};return W(G(t,"scrollbarElement"),"mousemove",x),W(G(t,"scrollbarElement"),"mouseleave",A),(r,e)=>(H(),$(de,{name:d(s).b("fade"),persisted:""},{default:ee(()=>[fe(D("div",{ref_key:"instance",ref:u,class:T([d(s).e("bar"),d(s).is(d(l).key)]),onMousedown:O},[D("div",{ref_key:"thumb",ref:f,class:T(d(s).e("thumb")),style:X(d(w)),onMousedown:N},null,38)],34),[[me,r.always||m.value]])]),_:1},8,["name"]))}});var Z=j(Pe,[["__file","thumb.vue"]]);const Be=Y({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),Oe=B({__name:"bar",props:Be,setup(i,{expose:a}){const t=i,s=v(0),u=v(0);return a({handleScroll:n=>{if(n){const m=n.offsetHeight-g,o=n.offsetWidth-g;u.value=n.scrollTop*100/m*t.ratioY,s.value=n.scrollLeft*100/o*t.ratioX}}}),(n,m)=>(H(),te(he,null,[I(Z,{move:s.value,ratio:n.ratioX,size:n.width,always:n.always},null,8,["move","ratio","size","always"]),I(Z,{move:u.value,ratio:n.ratioY,size:n.height,vertical:"",always:n.always},null,8,["move","ratio","size","always"])],64))}});var Me=j(Oe,[["__file","bar.vue"]]);const xe=Y({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:Te([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},id:String,role:String,ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical"]}}),Ae={scroll:({scrollTop:i,scrollLeft:a})=>[i,a].every(E)},We="ElScrollbar",$e=B({name:We}),De=B(q(V({},$e),{props:xe,emits:Ae,setup(i,{expose:a,emit:t}){const s=i,u=ae("scrollbar");let f,n;const m=v(),o=v(),p=v(),b=v("0"),l=v("0"),w=v(),z=v(1),N=v(1),O=S(()=>{const e={};return s.height&&(e.height=Q(s.height)),s.maxHeight&&(e.maxHeight=Q(s.maxHeight)),[s.wrapStyle,e]}),M=S(()=>[s.wrapClass,u.e("wrap"),{[u.em("wrap","hidden-default")]:!s.native}]),k=S(()=>[u.e("view"),s.viewClass]),y=()=>{var e;o.value&&((e=w.value)==null||e.handleScroll(o.value),t("scroll",{scrollTop:o.value.scrollTop,scrollLeft:o.value.scrollLeft}))};function x(e,c){_e(e)?o.value.scrollTo(e):E(e)&&E(c)&&o.value.scrollTo(e,c)}const A=e=>{!E(e)||(o.value.scrollTop=e)},C=e=>{!E(e)||(o.value.scrollLeft=e)},r=()=>{if(!o.value)return;const e=o.value.offsetHeight-g,c=o.value.offsetWidth-g,h=P(e,2)/o.value.scrollHeight,_=P(c,2)/o.value.scrollWidth,R=Math.max(h,s.minSize),L=Math.max(_,s.minSize);z.value=h/(e-h)/(R/(e-R)),N.value=_/(c-_)/(L/(c-L)),l.value=R+g<e?`${R}px`:"",b.value=L+g<c?`${L}px`:""};return F(()=>s.noresize,e=>{e?(f==null||f(),n==null||n()):({stop:f}=ce(p,r),n=W("resize",r))},{immediate:!0}),F(()=>[s.maxHeight,s.height],()=>{s.native||J(()=>{var e;r(),o.value&&((e=w.value)==null||e.handleScroll(o.value))})}),pe(le,be({scrollbarElement:m,wrapElement:o})),ye(()=>{s.native||J(()=>{r()})}),ge(()=>r()),a({wrapRef:o,update:r,scrollTo:x,setScrollTop:A,setScrollLeft:C,handleScroll:y}),(e,c)=>(H(),te("div",{ref_key:"scrollbarRef",ref:m,class:T(d(u).b())},[D("div",{ref_key:"wrapRef",ref:o,class:T(d(M)),style:X(d(O)),onScroll:y},[(H(),$(we(e.tag),{id:e.id,ref_key:"resizeRef",ref:p,class:T(d(k)),style:X(e.viewStyle),role:e.role,"aria-label":e.ariaLabel,"aria-orientation":e.ariaOrientation},{default:ee(()=>[Se(e.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],38),e.native?ze("v-if",!0):(H(),$(Me,{key:0,ref_key:"barRef",ref:w,height:l.value,width:b.value,always:e.always,"ratio-x":N.value,"ratio-y":z.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}}));var Xe=j(De,[["__file","scrollbar.vue"]]);const Ve=Ne(Xe);export{Ve as E};
